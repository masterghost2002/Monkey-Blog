(self.webpackChunkchakraui=self.webpackChunkchakraui||[]).push([[861],{6861:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var r=n(4165),l=n(5861),a=n(4942),o=n(1413),i=n(9439),s=n(7313),c=n(3964),d=n(9507),h=n(8467),u=n(5554),p=n(2128),f=n(6511),x=n(3022),g=n(6045),m=n(7758),j=n(9748),b=n(2135),v=n(3538),y=n(4959),_=n(4507),C=n(6417);function w(e){var t=(0,y.qY)(),n=t.isOpen,r=t.onOpen,l=t.onClose,a=s.useRef();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.hU,{icon:e.icon,colorScheme:"red",onClick:r}),(0,C.jsx)(_.aR,{isOpen:n,leastDestructiveRef:a,onClose:l,isCentered:!0,children:(0,C.jsx)(_.dh,{children:(0,C.jsxs)(_._T,{children:[(0,C.jsx)(_.fY,{fontSize:"lg",fontWeight:"bold",children:e.heading}),(0,C.jsx)(_.iP,{children:e.body}),(0,C.jsxs)(_.xo,{children:[(0,C.jsx)(j.zx,{ref:a,onClick:l,children:"Cancel"}),(0,C.jsx)(j.zx,{colorScheme:"red",onClick:function(){e.handleConfirm(),l()},ml:3,children:e.confirmBtnName})]})]})})})]})}function Z(e){var t=(0,g.$)().addToast;return(0,C.jsxs)(c.MI,{columns:[1,2],width:"100%",rowGap:4,children:[(0,C.jsx)(c.P4,{colSpan:[2,1],children:(0,C.jsx)(c.Ug,{justifyContent:["center","flex-start"],children:(0,C.jsx)(c.rU,{as:b.OL,to:"/blog/".concat(e.blog_id),width:"100%",isExternal:!0,children:(0,C.jsx)(j.zx,{leftIcon:(0,C.jsx)(m.ON,{}),colorScheme:"teal",variant:"solid",width:"100%",children:"Read Full Blog"})})})}),(0,C.jsx)(c.P4,{colSpan:[2,1],children:(0,C.jsxs)(c.Ug,{justifyContent:["space-between","flex-end"],children:[(0,C.jsx)(v.CopyToClipboard,{text:"https://monkey-app.netlify.app/blog/".concat(e.blog_id),children:(0,C.jsx)(j.hU,{variant:"ghost",icon:(0,C.jsx)(m.xP,{}),"aria-label":"copy_to_clipboard",onClick:function(){return t({message:"Blog link copied to clipboard",status:"success"})}})}),e.canmodify&&(0,C.jsx)(j.hU,{variant:"ghost",icon:(0,C.jsx)(m.dY,{}),onClick:e.handleEdit,"aria-label":"edit"}),e.canmodify&&(0,C.jsx)(w,{heading:"Delete Blog",body:"Are you sure want to delete blog?",handleConfirm:e.handleDelete,confirmBtnName:"Delete",icon:(0,C.jsx)(m.pJ,{}),"aria-label":"delete_blog"})]})})]})}var S=n(7919);function k(e){var t=(0,h.s0)(),n=(0,g.$)().addToast,a=(0,u.v9)((function(e){return e.userInfo})),o=(void 0===e.blog?"":e.blog.description.replaceAll(/<[^>]+>/g,"")).replaceAll("&nbsp;"," ").slice(0,300),i=function(){var t=(0,l.Z)((0,r.Z)().mark((function t(){var l;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,d.xu)(e.blog._id);case 2:200===(l=t.sent).status?n({title:"Blog",message:"Blog Deleted",status:"success"}):n({title:"Validation Error",message:l.data.validationError,status:"error"}),e.onDelete();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=new Date(void 0===e.blog?"October 15, 1996 05:35:32":e.blog.created_at);return s=new Intl.DateTimeFormat("en-US",{day:"2-digit",month:"short",year:"numeric"}).format(s),(0,C.jsx)(c.P4,{my:5,children:(0,C.jsx)(c.Ug,{justifyContent:"center",children:(0,C.jsxs)(p.Zb,{maxW:"md",minW:e.loaded?"auto":"100%",bg:"gray.10",children:[(0,C.jsx)(p.Ol,{children:(0,C.jsx)(c.kC,{spacing:"4",children:(0,C.jsxs)(c.kC,{flex:"1",gap:"4",alignItems:"center",flexWrap:"wrap",children:[(0,C.jsx)(f.s7,{width:"50px",height:"50px",isLoaded:e.loaded,children:(0,C.jsx)(x.qE,{name:"Segun Adebayo",src:S.PL.avtar_image,alt:"Chakra Ui"})}),(0,C.jsxs)(c.xu,{children:[(0,C.jsx)(f.Od,{isLoaded:e.loaded,mb:1,children:(0,C.jsxs)(c.Ug,{children:[(0,C.jsx)(c.X6,{size:"sm",children:void 0!==e.blog?void 0===e.blog.user.name?a.userName:e.blog.user.name:""}),void 0!==e.blog&&void 0!==e.blog.user.badge&&(0,C.jsx)(c.Ct,{bg:"black",color:"blue.400",borderRadius:"6px",children:e.blog.user.badge})]})}),(0,C.jsx)(f.Od,{isLoaded:e.loaded,children:(0,C.jsxs)(c.xv,{color:"red.300",children:[(0,C.jsx)(m.Qu,{})," ",s]})})]})]})})}),(0,C.jsxs)(p.eW,{children:[(0,C.jsx)(c.xv,{fontWeight:"bold",fontSize:"xl",children:void 0!==e.blog?e.blog.title:""}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(f.N2,{noOfLines:4,spacing:"4",skeletonHeight:"4",isLoaded:e.loaded,children:(0,C.jsx)(c.xv,{"text-align":"start",children:o})})]}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(p.iR,{justify:"space-between",flexWrap:"wrap",sx:{"& > button":{minW:"136px"}},children:(0,C.jsx)(f.N2,{noOfLines:[2,1],skeletonHeight:"10",width:"100%",isLoaded:e.loaded,children:(0,C.jsx)(Z,{handleDelete:i,handleEdit:function(){t("/updateblog/".concat(e.blog._id))},canmodify:e.canmodify,blog_id:e.blog?e.blog._id:"fetching"})})})]})})})}var B=n(5192),E=n.n(B),O=n(3068);function N(e){return(0,C.jsxs)(O.BZ,{width:["100%","md"],children:[(0,C.jsx)(O.Ui,{children:e.children,p:0,bg:"transparent"}),(0,C.jsx)(O.II,{type:"text",placeholder:e.placeholder,onChange:e.onChange,name:e.name,variant:e.variant})]})}N.prototype={placeholder:E().string,onChange:E().func,name:E().string,variant:E().string},N.defaultProps={placeholder:"Search Blog",name:"searchInput",variant:"filled"};var I=n(5987),T=n(720),L=n(6658),P=n(4988),U=["children","placeholder","className"],z=["rootProps","placeholder","icon","color","height","h","minH","minHeight","iconColor","iconSize"],W=["children"],D=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")};var A=(0,L.Gp)((function(e,t){var n=e.children,r=e.placeholder,l=e.className,a=(0,I.Z)(e,U);return s.createElement(L.m$.select,(0,o.Z)((0,o.Z)({},a),{},{ref:t,className:D("chakra-select",l)}),r&&s.createElement("option",{value:""},r),n)}));A.displayName="SelectField";var R=(0,L.Gp)((function(e,t){var n,r,l=(0,L.jC)("Select",e),a=(0,P.Lr)(e),c=a.rootProps,d=a.placeholder,h=a.icon,u=a.color,p=a.height,f=a.h,x=a.minH,g=a.minHeight,m=a.iconColor,j=a.iconSize,b=function(e,t){for(var n={},r={},l=0,a=Object.entries(e);l<a.length;l++){var o=(0,i.Z)(a[l],2),s=o[0],c=o[1];t.includes(s)?n[s]=c:r[s]=c}return[n,r]}((0,I.Z)(a,z),P.oE),v=(0,i.Z)(b,2),y=v[0],_=v[1],C=(0,T.Yp)(_),w={width:"100%",height:"fit-content",position:"relative",color:u},Z=(0,o.Z)((0,o.Z)({paddingEnd:"2rem"},l.field),{},{_focus:(0,o.Z)({zIndex:"unset"},null==(n=l.field)?void 0:n._focus)});return s.createElement(L.m$.div,(0,o.Z)((0,o.Z)({className:"chakra-select__wrapper",__css:w},y),c),s.createElement(A,(0,o.Z)((0,o.Z)({ref:t,height:null!==f&&void 0!==f?f:p,minH:null!==x&&void 0!==x?x:g,placeholder:d},C),{},{__css:Z}),e.children),s.createElement(Y,(0,o.Z)((0,o.Z)({"data-disabled":(r=C.disabled,r?"":void 0)},(m||u)&&{color:m||u}),{},{__css:l.icon},j&&{fontSize:j}),h))}));R.displayName="Select";var F=function(e){return s.createElement("svg",(0,o.Z)({viewBox:"0 0 24 24"},e),s.createElement("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}))},H=(0,L.m$)("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),Y=function(e){var t=e.children,n=void 0===t?s.createElement(F,null):t,r=(0,I.Z)(e,W),l=(0,s.cloneElement)(n,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return s.createElement(H,(0,o.Z)((0,o.Z)({},r),{},{className:"chakra-select__icon-wrapper"}),(0,s.isValidElement)(n)?l:null)};function G(e){return(0,C.jsx)(R,{name:e.name,placeholder:e.placeholder,width:e.width,variant:"filled",onChange:e.onSelect,children:e.options.map((function(e,t){return(0,C.jsxs)("option",{value:e.label,children:[e.label," "]},t)}))})}function M(){return(0,C.jsx)(c.P4,{my:5,colSpan:2,height:"100%",children:(0,C.jsx)(c.M5,{height:"100%",children:(0,C.jsxs)(c.gC,{children:[(0,C.jsx)(c.xv,{fontWeight:"bold",children:"No blog from your Side"}),(0,C.jsx)(c.rU,{as:b.OL,to:"/addblog",children:(0,C.jsx)(j.zx,{as:"nav",colorScheme:"blue",children:"Add Blog"})})]})})})}function $(e){var t=(0,s.useMemo)((function(){return e.type}),[e.type]),n=(0,s.useState)([]),h=(0,i.Z)(n,2),u=h[0],p=h[1],f=(0,s.useState)([]),x=(0,i.Z)(f,2),g=x[0],m=x[1],j=(0,s.useState)(!1),b=(0,i.Z)(j,2),v=b[0],y=b[1],_=(0,s.useState)({searchInput:"",searchBy:"Blog Title"}),w=(0,i.Z)(_,2),Z=w[0],S=w[1],B=(0,s.useState)(!0),E=(0,i.Z)(B,2),O=(E[0],E[1]),I=(0,s.useCallback)((0,l.Z)((0,r.Z)().mark((function e(){var n,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y(!0),"All Blogs"!==t){e.next=7;break}return e.next=4,(0,d.pQ)();case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,(0,d.Jx)();case 9:e.t0=e.sent;case 10:return n=e.t0,e.next=13,n.data;case 13:l=e.sent,y(!1),200===n.request.status&&p(l.blogs);case 16:case"end":return e.stop()}}),e)}))),[t]);return(0,s.useEffect)((function(){I()}),[I]),(0,C.jsxs)(c.W2,{maxWidth:"container.xlg",minHeight:"100vh",mt:[20,20],children:[(0,C.jsxs)(c.gC,{my:5,children:[(0,C.jsx)(c.Ug,{width:"100%",justifyContent:"center",children:(0,C.jsx)(c.xv,{fontSize:"3xl",fontWeight:"bold",children:e.type})}),(0,C.jsx)(N,{onChange:function(e){e.preventDefault(),S((0,o.Z)((0,o.Z)({},Z),{},(0,a.Z)({},e.target.name,e.target.value))),""===e.target.value||""===Z.searchInput&&g.length?m([]):m(u.filter((function(t){return function(e,t){var n=t.toLowerCase().replaceAll(" ","");return"Blog Title"===Z.searchBy?e.title.toLowerCase().replaceAll(" ","").includes(n):"User Name"===Z.searchBy?e.user.name.toLowerCase().replaceAll(" ","").startsWith(n):void 0}(t,e.target.value)})))},children:(0,C.jsx)(G,{options:[{label:"Blog Title"},{label:"User Name"}],placeholder:"Search By",onSelect:function(e){S((0,o.Z)((0,o.Z)({},Z),{},(0,a.Z)({},e.target.name,e.target.value)))}})}),(0,C.jsx)(G,{width:["xsm","xsm"],placeholder:"Sort By",options:[{label:"Newest First"},{label:"Oldest First"}],onSelect:function(e){e.preventDefault(),"Newest First"===e.target.value?g.length?m(g.sort((function(e,t){return e.created_at<t.created_at}))):p(u.sort((function(e,t){return e.created_at<t.created_at}))):"Oldest First"===e.target.value&&(g.length?m(g.sort((function(e,t){return e.created_at>t.created_at}))):p(u.sort((function(e,t){return e.created_at>t.created_at})))),O((function(e){return!e}))},name:"sortBy"})]}),(0,C.jsx)(c.iz,{}),(0,C.jsx)(c.MI,{p:[0,20],columns:[1,1,2],rowGap:10,columnGap:4,children:u.length?""===Z.searchInput?u.length?u.map((function(t){return(0,C.jsx)(k,{blog:t,canmodify:"All Blogs"!==e.type,onDelete:I,loaded:!0},t._id)})):(0,C.jsx)(k,{loaded:!1}):g.length?g.map((function(t){return(0,C.jsx)(k,{blog:t,canmodify:"All Blogs"!==e.type,onDelete:I,loaded:!0},t._id)})):(0,C.jsx)(k,{loaded:!1}):(0,C.jsxs)(C.Fragment,{children:[" ",v?(0,C.jsx)(k,{loaded:!1}):(0,C.jsx)(M,{})]})})]})}Y.displayName="SelectIcon",G.defaultProps={name:"searchBy",placeholder:"Select",with:["sm","md"],option:[{label:"Option 1"},{label:"Option 2"}]}},1729:function(e,t,n){"use strict";var r=n(9165);function l(){}function a(){}a.resetWarningCache=l,e.exports=function(){function e(e,t,n,l,a,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:l};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);